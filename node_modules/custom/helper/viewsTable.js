global.createPagination= function (total_naumber,search){

    total_naumber= parseInt(total_naumber);
    var page=( search.page == undefined || search.page == NaN)? 0:parseInt(search.page);
    delete search.page;


        var first_page_number=Math.floor(page/10)*10;
        if(total_naumber <=10) return '';

        var link='?';
        link+=get_request_link(search);

        var paginationHtml= '<ul class="pagination_ul">';
        if(page>9){

            paginationHtml+= '<li ><a href="'+link+'&page='+(first_page_number-1)+'">  << </a></li>';
        }

        if(page!=0){

            paginationHtml+= '<li ><a href="'+link+'&page='+(page -1)+'">  < </a></li>';
        }

        var last_page=Math.min(total_naumber/10,first_page_number+10);

        for(var i=first_page_number;i<last_page;i+=1){
            var li_class=(i==page)? 'active':'';
            paginationHtml+= '<li class="'+li_class+'"><a href="'+link+'&page='+i+'">'+(i +1)+'</a></li>';
        }

        if(page*10 +10 <total_naumber){

            paginationHtml+= '<li ><a href="'+link+'&page='+(page +1)+'"> > </a></li>';
        }

        if(last_page <total_naumber/10){

            paginationHtml+= '<li ><a href="'+link+'&page='+(last_page )+'"> >> </a></li>';
        }

    paginationHtml+= '</ul>';
return paginationHtml;
}


function get_request_link(parameters_array){
    var link='';
    for (var key in parameters_array ){
        link+=key+'='+ ((parameters_array[key].isArray)? parameters_array[key].join(','):parameters_array[key]);
        link+='&';
    }
    return link;
}


global.orderByLink=function(field,request){

    console.log(request.order_by +'=='+ field +'&&'+ request.order_by_type+' == desc');

    var order_by_type=(request.order_by == field && request.order_by_type == 'desc')? 'ask':'desc';
        var arrowClass=(order_by_type == 'desc')? 'down':'up';


    var tempRequest=Object.create( request);


    tempRequest.order_by=field;
    tempRequest.order_by_type=order_by_type;

    var link=get_request_link(tempRequest);
    var linkHtml='<a class="'+arrowClass+'" href="?'+link+'">'+field+'</a>';

    return linkHtml;
}